<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Booking Requests - Concordia Resource Manager</title>
  <link rel="stylesheet" href="dashboard.css">
  <style>
    .requests-container { padding: 1rem; display:flex; flex-direction:column; gap:1rem; }
    .controls { display:flex; gap:.5rem; align-items:center; margin-bottom:.5rem; }
    .btn { padding:.45rem .65rem; border-radius:6px; border:1px solid transparent; cursor:pointer; }
    .btn-ghost { background:#eee; }
    .btn-primary { background:var(--main-color); color:#fff; }

    .requests-list { display:grid; gap:.75rem; }
    .request-card { display:grid; grid-template-columns: 1fr auto; gap: .5rem; padding:.75rem; border-radius:8px; border:1px solid #e0e0e0; background:#fff; align-items:center; }
    .request-info { display:flex; flex-direction:column; gap:.25rem; }
    .request-meta { color: #666; font-size:.9rem; }
    .request-actions { display:flex; gap:.5rem; align-items:center; }

    .status-pill { padding:.25rem .5rem; border-radius:999px; font-size:.85rem; border:1px solid #ddd; }
    .status-pending { background:#fff3cd; color:#856404; }
    .status-accepted { background:#d4edda; color:#155724; }
    .status-rejected { background:#f8d7da; color:#721c24; }

    .empty { text-align:center; color:#666; padding:1.5rem; background:#fafafa; border-radius:8px; }

    .detail-row { display:flex; gap:.5rem; align-items:center; font-size:.95rem; }
    .detail-label { font-weight:600; min-width:90px; color:#333; }
  </style>
</head>
<body>
<form class="manage-profile" id="manageProfile" role="dialog" aria-modal="true" aria-labelledby="manageProfileTitle" hidden>
  <div class="mp-card" role="document">
    <div class="mp-header">
      <h2 id="manageProfileTitle">Manage Profile</h2>
      <button type="button" class="mp-close" id="mpClose" aria-label="Close">&times;</button>
    </div>
    <div class="mp-body">
      <div class="mp-row mp-avatar">
        <img id="mpAvatarPreview" src="../resources/avatar.jpg" alt="Avatar preview">
      </div>
      <div class="mp-field">
        <label for="mpDisplayName">Display Name</label>
        <input id="mpDisplayName" name="displayname" type="text" maxlength="80" />
      </div>
      <div class="mp-field">
        <label for="mpEmail">Email</label>
        <input id="mpEmail" name="email" type="email" />
      </div>
    </div>
    <div class="mp-footer">
      <button type="button" id="mpCancel">Cancel</button>
      <button type="submit" id="mpSave">Save</button>
    </div>
  </div>
</form>

<div class="center">
  <div id="banner"><img src="../resources/concordia.png" alt="Concordia"></div>
  <h2 id="title">Booking Requests</h2>

  <aside class="sidebar">
    <form class="sidebar-buttons" action="dashboard.html" method="get">
      <button id="dashboard" type="submit">Dashboard</button>
      <button id="manage" type="submit" formaction="modify.html">Modify Resources</button>
      <button id="view" class="sidebar-buttons-current-page" type="submit" formaction="requests.html" formmethod="get">Active Requests</button>
      <!-- Data Analysis removed - embedded in dashboard -->
    </form>
    <div class="sidebar-deadspace"></div>
    <button class="profile-button">
      <div id="avatar"><img id="avatar-img" src="../resources/avatar.jpg"></div>
      <div id="profile-name"><p id="displayname">[Display Name]</p><p id="email">[email@domain.gg]</p></div>
    </button>
  </aside>

  <main class="portal">
    <h3 id="portal-title">Pending booking requests</h3>

    <div class="requests-container">
      <div class="controls">
        <select id="filter" class="btn btn-ghost">
          <option value="pending">Pending</option>
          <option value="all">All</option>
        </select>
        <button id="refreshBtn" class="btn btn-ghost">Refresh</button>
        <button id="seedBtn" class="btn btn-ghost">Seed sample</button>
      </div>

      <div id="requestsList" class="requests-list"></div>

      <template id="requestTpl">
        <div class="request-card">
          <div class="request-info">
            <div class="detail-row"><span class="detail-label">Request:</span><span class="req-title"></span></div>
            <div class="detail-row"><span class="detail-label">Resource:</span><span class="req-resource"></span></div>
            <div class="detail-row"><span class="detail-label">When:</span><span class="req-when"></span></div>
            <div class="detail-row"><span class="detail-label">By:</span><span class="req-by"></span></div>
            <div class="request-meta req-notes"></div>
          </div>
          <div class="request-actions">
            <span class="status-pill req-status"></span>
            <div>
              <button class="btn btn-primary btn-accept">Accept</button>
              <button class="btn btn-ghost btn-reject">Reject</button>
            </div>
          </div>
        </div>
      </template>
    </div>
  </main>
</div>

<footer class="footer"><h3>footer</h3></footer>
</body>
</html>
